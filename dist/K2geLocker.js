const i=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const s=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage;const d=window.enmity.modules.common.Toasts,T=window.enmity.modules.common.Dialog;window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const f=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;function b(e){window.enmity.plugins.registerPlugin(e)}const y={byProps:(...e)=>window.enmity.modules.filters.byProps(...e),byName:(e,n)=>window.enmity.modules.filters.byName(e,n),byTypeName:(e,n)=>window.enmity.modules.filters.byTypeName(e,n),byDisplayName:(e,n)=>window.enmity.modules.filters.byDisplayName(e,n)};function F(...e){return window.enmity.modules.bulk(...e)}window.enmity.modules.common;const{components:o}=window.enmity;o.Alert,o.Button,o.FlatList;const L=o.Image;o.ImageBackground,o.KeyboardAvoidingView,o.Modal,o.Pressable,o.RefreshControl,o.ScrollView,o.SectionList,o.StatusBar,o.StyleSheet,o.Switch;const g=o.Text,k=o.TextInput;o.TouchableHighlight,o.TouchableOpacity,o.TouchableWithoutFeedback,o.Touchable;const C=o.View;o.VirtualizedList,o.Form,o.FormArrow,o.FormCTA,o.FormCTAButton,o.FormCardSection,o.FormCheckbox,o.FormDivider,o.FormHint,o.FormIcon,o.FormInput,o.FormLabel,o.FormRadio,o.FormRow,o.FormSection,o.FormSelect,o.FormSubLabel,o.FormSwitch,o.FormTernaryCheckBox,o.FormText,o.FormTextColors,o.FormTextSizes;function p(e,n,t){window.enmity.settings.set(e,n,t)}function E(e,n,t){return window.enmity.settings.get(e,n,t)}function R(e){return window.enmity.patcher.create(e)}function a(e){return window.enmity.assets.getIDByName(e)}const w=R("K2geLocker"),[A,I]=F(y.byName("MessagesConnected",!1),y.byProps("openLazy","hideActionSheet")),N=a("nsfw_gate_lock"),h=a("img_nitro_star"),v=a("Small"),x={name:"K2geLocker",version:"1.0.0",description:"Lock ur <3",authors:[{name:"mafu",id:"519760564755365888"}],onStart(){let e="0";w.instead(A,"default",(n,t,c)=>{var u;console.log("[K2geLocker] ON_LOAD_MESSAGES");let r=c.apply(n,t),l=(u=r==null?void 0:r.props)==null?void 0:u.guildId;if(e=l,l&&E(this.name,l)){const m=f.createThemedStyleSheet({image:{width:100,height:100,padding:5,marginBottom:15},container:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:i.ThemeColorMap.BACKGROUND_PRIMARY},header:{color:i.ThemeColorMap.HEADER_PRIMARY,fontFamily:i.Fonts.PRIMARY_SEMIBOLD,fontWeight:"bold",fontSize:24},description:{color:i.ThemeColorMap.HEADER_SECONDARY,fontSize:16,fontFamily:i.Fonts.PRIMARY_SEMIBOLD,marginLeft:2.5,marginRight:2.5,marginBottom:70,paddingLeft:25,paddingRight:25,paddingTop:5,textAlign:"center"},passcode:{width:100,height:20,marginTop:50,marginBottom:50,borderBottomWidth:1,borderBottomColor:"#ccc"}});return s.createElement(C,{style:m.container},s.createElement(L,{style:m.image,source:N}),s.createElement(g,{style:m.header},"This server is locked!"),s.createElement(k,{style:m.passcode,onSubmitEditing:S=>{S.nativeEvent.text=="pass"?(p(this.name,l,!1),console.log("[K2geLocker] Set: FALSE"),d.open({content:"Successfully unlocked!",source:h})):d.open({content:"Incorrect password. Try again.",source:v})},secureTextEntry:!0}),s.createElement(g,{style:m.description},"K2geLocker"))}else return r}),w.instead(I,"openLazy",(n,t,c)=>{t[0],t[1].startsWith("instant-invite")?(console.log("[K2geLocker] ON_INVITE_MENU"),T.show({title:"K2geLocker",body:"Select an action you wanna perform:",confirmText:"Lock the Guild",cancelText:"Open invite menu",onConfirm:()=>{console.log("[K2geLocker] Confirm"),p(this.name,e,!0),console.log("[K2geLocker] Set: TRUE"),d.open({content:"Successfully locked!",source:h})},onCancel:()=>{console.log("[K2geLocker] Cancel"),c.apply(n,t)}})):c.apply(n,t)})},onStop(){w.unpatchAll()}};b(x);
